<mat-grid-tile-header>Ficha de atención</mat-grid-tile-header>

<mat-vertical-stepper [linear]="true" class="mat-stepper-vertical  linear">

  <!--  Datos personales básicos -->
  <mat-step [stepControl]="formPersonalInfo" color="primary" >
    <ng-template matStepLabel>Datos personales básicos</ng-template>

    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title></mat-card-title>
      </mat-card-header>

      <form [formGroup]="formPersonalInfo">

        <mat-grid-list cols="2" rowHeight="85px">

          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Ciudad - Municipio</mat-label>
              <input readonly formControlName="city" maxlength="30" matInput placeholder="Ciudad-Municipio"
                     oninput="this.value=this.value.replace(/[^A-Za-z]/g,'')">

            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Departamento</mat-label>
              <input formControlName="department" maxlength="50" type="text" matInput placeholder="Departamento">
              <mat-error *ngIf="isControlHasErrorPI('department','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>



          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Sexo</mat-label>
              <input readonly formControlName="sex" type="text" matInput placeholder="Sexo">

            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Nombre del paciente</mat-label>
              <input readonly formControlName="name" maxlength="50" matInput placeholder="Nombre del paciente "
                     oninput="this.value=this.value.replace(/[^A-Za-z]/g,'')">
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Apellido del paciente</mat-label>
              <input readonly formControlName="lastName" maxlength="50" matInput placeholder="Apellido del paciente"
                     oninput="this.value=this.value.replace(/[^A-Za-z]/g,'')">
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>No. de identificación</mat-label>
              <input type="number" maxlength="12" formControlName="identificationNumber" matInput
                     placeholder="No. de identificación" required>
              <mat-error *ngIf="isControlHasErrorPI('identificationNumber','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Fecha de nacimiento</mat-label>
              <input formControlName="dateBirth" matInput [matDatepicker]="picker2" [max]="maxDate" readonly
                     (ngModelChange)="calculandoEdad()">
              <mat-error *ngIf="isControlHasErrorPI('dateBirth','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>

            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Edad</mat-label>
              <input matInput disabled [value]="edadCalculada">
            </mat-form-field>
          </mat-grid-tile>


        </mat-grid-list>

      </form>
      <button mat-button matStepperNext>Siguiente</button>

    </mat-card>

  </mat-step>
<!--Procedencia-->
  <mat-step [stepControl]="formOrigin" color="primary">
    <ng-template matStepLabel>Procedencia</ng-template>

    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title></mat-card-title>
      </mat-card-header>

      <form [formGroup]="formOrigin">
        <mat-grid-list cols="2" rowHeight="85px">
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Etnia</mat-label>
              <input readonly formControlName="ethnicity" maxlength="2000" matInput placeholder="Etnia">
              <mat-error *ngIf="isControlHasErrorOrigin('ethnicity','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Religión</mat-label>
              <input formControlName="religion" maxlength="2000" type="text" matInput placeholder="Religión">
              <mat-error *ngIf="isControlHasErrorOrigin('religion','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Lugar de nacimiento</mat-label>
              <input formControlName="placeBirth" maxlength="2000" type="text" matInput placeholder="Lugar de nacimiento">
              <mat-error *ngIf="isControlHasErrorOrigin('placeBirth','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Procedencia</mat-label>
              <input formControlName="origin" maxlength="2000" matInput placeholder="Procedencia">
              <mat-error *ngIf="isControlHasErrorOrigin('origin','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Dirección</mat-label>
              <input formControlName="originAddress" maxlength="2000" matInput placeholder="Dirección">
              <mat-error *ngIf="isControlHasErrorOrigin('originAddress','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Barrio/Vereda</mat-label>
              <input type="text" formControlName="neighborhood" maxlength="2000" matInput placeholder="Barrio/Vereda">
              <mat-error *ngIf="isControlHasErrorOrigin('neighborhood','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Estrato</mat-label>
              <input type="number" maxlength="2" formControlName="stratum" matInput placeholder="Estrato">
              <mat-error *ngIf="isControlHasErrorOrigin('stratum','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Teléfono</mat-label>
              <input type="number" maxlength="10" formControlName="phone" matInput placeholder="Teléfono">
              <mat-error *ngIf="isControlHasErrorOrigin('phone','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
        </mat-grid-list>
      </form>
      <mat-card-actions>
        <button mat-button matStepperPrevious>Atrás</button>
        <button mat-button matStepperNext >Siguiente</button>
      </mat-card-actions>

    </mat-card>

  </mat-step>
   <!--Consulta y enfermedad actual -->
  <mat-step [stepControl]="formConsultation" color="primary">
    <ng-template matStepLabel>Consulta</ng-template>
    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title></mat-card-title>
      </mat-card-header>
      <form [formGroup]="formConsultation">
        <mat-grid-list cols="2" rowHeight="85px">
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Motivo de consulta</mat-label>
              <input formControlName="reasonConsultation" maxlength="2000" matInput placeholder="Motivo de consulta">
              <mat-error *ngIf="isControlHasErrorConsultation('reasonConsultation', 'required')">
                <strong>Campo requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Enfermedad actual</mat-label>
              <input formControlName="currentIllness" maxlength="2000" type="text" matInput placeholder="Enfermedad actual">
              <mat-error *ngIf="isControlHasErrorConsultation('currentIllness', 'required')">
                <strong>Campo requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
        </mat-grid-list>


      </form>
      <mat-card-actions>
        <button mat-button matStepperPrevious>Atrás</button>
        <button mat-button matStepperNext >Siguiente</button>
      </mat-card-actions>

    </mat-card>

  </mat-step>
<!--  Antecedentes personales-->
  <mat-step [stepControl]="formAP_PsychiatricHistory" color="primary">
    <ng-template matStepLabel> Antecedentes personales </ng-template>
    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title></mat-card-title>
      </mat-card-header>
      <form [formGroup]="formAP_PsychiatricHistory">
        <mat-grid-list cols="2" rowHeight="85px">
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Antecedentes psiquiátricos</mat-label>
              <input formControlName="AP_APS_Observations" maxlength="2000" matInput placeholder="Observaciones">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_APS_Observations','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Diagnósticos</mat-label>
              <input formControlName="AP_APS_Diagnostics" maxlength="2000" type="text" matInput placeholder="Diagnósticos">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_APS_Diagnostics','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <h3>Tratamiento</h3>
            <mat-divider></mat-divider>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Medicamento</mat-label>
              <input formControlName="AP_APS_Medicine" maxlength="2000" type="text" matInput placeholder="Medicamento">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_APS_Medicine','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Dosis</mat-label>
              <input formControlName="AP_APS_Dose" maxlength="2000" type="text" matInput placeholder="Dosis">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_APS_Dose','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Tiempo</mat-label>
              <input formControlName="AP_APS_Time" maxlength="2000" type="text" matInput placeholder="Tiempo">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_APS_Time','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <h3>Antecedentes Médicos (</h3><h4> Personales)</h4>
            <mat-divider></mat-divider>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Observaciones</mat-label>
              <input formControlName="AP_AM_Observations" maxlength="2000" matInput placeholder="Observaciones">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_AM_Observations','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Diagnósticos</mat-label>
              <input formControlName="AP_AM_Diagnostics" maxlength="2000" type="text" matInput placeholder="Diagnósticos">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_AM_Diagnostics','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <h3>Tratamiento</h3>
            <mat-divider></mat-divider>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Medicamento</mat-label>
              <input formControlName="AP_AM_Medicine" maxlength="2000" type="text" matInput placeholder="Medicamento">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_AM_Medicine','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Dosis</mat-label>
              <input formControlName="AP_AM_Dose" maxlength="2000" type="text" matInput placeholder="Dosis">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_AM_Dose','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Tiempo</mat-label>
              <input formControlName="AP_AM_Time" maxlength="2000" type="text" matInput placeholder="Tiempo">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_AM_Time','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <h3>Antecedentes Quirúrgicos (</h3><h4> Personales)</h4>
            <mat-divider></mat-divider>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Observaciones</mat-label>
              <input formControlName="AP_AQ_Observations" maxlength="2000" type="text" matInput placeholder="Observaciones">
              <mat-error *ngIf="isControlHasErrorAP_PsychiatricHistory('AP_AQ_Observations','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>





        </mat-grid-list>


      </form>
      <mat-card-actions>
        <button mat-button matStepperPrevious>Atrás</button>
        <button mat-button matStepperNext >Siguiente</button>
      </mat-card-actions>

    </mat-card>

  </mat-step>
  <!--  Antecedentes Relacionales-->
  <mat-step  [stepControl]="formAP_RelationalHistory" color="primary">
    <ng-template matStepLabel> Antecedentes Relacionales </ng-template>

    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title></mat-card-title>
      </mat-card-header>

      <form [formGroup]="formAP_RelationalHistory">
        <mat-grid-list cols="2" rowHeight="85px">
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Situación laboral</mat-label>
              <input formControlName="AP_AR_employmentSituation" maxlength="2000" type="text" matInput         placeholder="Situación laboral">
              <mat-error *ngIf="isControlHasErrorAP_RelationalHistory('AP_AR_employmentSituation','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Relaciones interpersonales</mat-label>
              <input formControlName="AP_AR_Relationships" maxlength="2000" type="text" matInput         placeholder="Relaciones interpersonales">
              <mat-error *ngIf="isControlHasErrorAP_RelationalHistory('AP_AR_Relationships','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Relaciones sociales</mat-label>
              <input formControlName="AP_AR_socialRelationships" maxlength="2000" type="text" matInput           placeholder="Relaciones sociales">
              <mat-error *ngIf="isControlHasErrorAP_RelationalHistory('AP_AR_socialRelationships','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Relaciones familiares</mat-label>
              <input formControlName="AP_AR_familyRelationships" maxlength="2000" type="text" matInput      placeholder="Relaciones familiares">
              <mat-error *ngIf="isControlHasErrorAP_RelationalHistory('AP_AR_familyRelationships','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <h3>Antecedentes Psiquiátricos (</h3><h4> Relacionales)</h4>
            <mat-divider></mat-divider>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Observaciones</mat-label>
              <input formControlName="AF_APS_Observations" maxlength="2000" type="text" matInput placeholder="Observaciones">
              <mat-error *ngIf="isControlHasErrorAP_RelationalHistory('AF_APS_Observations','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <h3>Antecedentes Médicos (</h3><h4> Relacionales)</h4>
            <mat-divider></mat-divider>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Observaciones</mat-label>
              <input formControlName="AF_AM_Observations" maxlength="2000" type="text" matInput placeholder="Observaciones">
              <mat-error *ngIf="isControlHasErrorAP_RelationalHistory('AF_AM_Observations','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>


        </mat-grid-list>
      </form>
      <mat-card-actions>
        <button mat-button matStepperPrevious>Atrás</button>
        <button mat-button matStepperNext >Siguiente</button>
      </mat-card-actions>

    </mat-card>

  </mat-step>
<!--  Estado Mental-->
  <mat-step  [stepControl]="formStateOfMind" color="primary">
    <ng-template matStepLabel> Estado mental </ng-template>

    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title>Conciencia - Orientación:</mat-card-title>
      </mat-card-header>

      <form [formGroup]="formStateOfMind">
        <mat-grid-list cols="2" rowHeight="85px">
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Tiempo</mat-label>
              <input formControlName="EM_Time" maxlength="2000" type="text" matInput placeholder="Tiempo">
              <mat-error *ngIf="isControlHasErrorStateOfMind('EM_Time','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Lugar</mat-label>
              <input formControlName="EM_Place" maxlength="2000" type="text" matInput placeholder="Lugar">
              <mat-error *ngIf="isControlHasErrorStateOfMind('EM_Place','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Persona</mat-label>
              <input formControlName="EM_Person" maxlength="2000" type="text" matInput placeholder="Persona">
              <mat-error *ngIf="isControlHasErrorStateOfMind('EM_Person','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

        </mat-grid-list>

      </form>
      <mat-card-actions>
        <button mat-button matStepperPrevious>Atrás</button>
        <button mat-button matStepperNext >Siguiente</button>
      </mat-card-actions>

    </mat-card>

  </mat-step>
  <!--Evaluación psicosocial integral en salud-->
  <mat-step  [stepControl]="formPsychosocialEvaluation" color="primary">
    <ng-template matStepLabel> Evaluación psicosocial integral en salud </ng-template>

    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title></mat-card-title>
      </mat-card-header>

      <form [formGroup]="formPsychosocialEvaluation">
        <mat-grid-list cols="2" rowHeight="85px">
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="standard">
              <mat-label>Problema en salud:</mat-label>
              <input formControlName="EPIS_healthProblems" maxlength="2000" type="text" matInput placeholder="Problema en salud ">
              <mat-error *ngIf="isControlHasErrorPsychosocialEvaluation('EPIS_healthProblems','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Sistema de creencias en salud:</mat-label>
              <input formControlName="EPIS_healthBeliefSystem" maxlength="2000" type="text" matInput
                     placeholder="Sistema de creencias en salud">
              <mat-error *ngIf="isControlHasErrorPsychosocialEvaluation('EPIS_healthBeliefSystem','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Afrontamiento de la enfermedad:</mat-label>
              <input formControlName="EPIS_copingWithIllness" maxlength="2000" type="text" matInput
                     placeholder="Afrontamiento de la enfermedad">
              <mat-error *ngIf="isControlHasErrorPsychosocialEvaluation('EPIS_copingWithIllness','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="1" [rowspan]="1">
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Impresión diagnóstica (según código CIE10):</mat-label>
              <input formControlName="EPIS_diagnosticImpression" maxlength="2000" type="text" matInput
                     placeholder="Impresión diagnóstica">
              <mat-error *ngIf="isControlHasErrorPsychosocialEvaluation('EPIS_diagnosticImpression','required')">
                <strong>Campo Requerido</strong>
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>
        </mat-grid-list>


      </form>
      <mat-card-actions>
        <button mat-button matStepperPrevious>Atrás</button>
        <button mat-button matStepperNext >Siguiente</button>
      </mat-card-actions>

    </mat-card>

  </mat-step>
  <!--  Nivel de intervención modelo biopsicosocial -->
  <mat-step   [stepControl]="formInterventionLevel" color="primary">
    <ng-template matStepLabel> Nivel de intervención modelo biopsicosocial: </ng-template>

    <mat-card class="mat-card1">
      <mat-card-header>
        <mat-card-title></mat-card-title>
      </mat-card-header>

      <form [formGroup]="formInterventionLevel">
        <mat-grid-list cols="2" rowHeight="85px">

          <mat-grid-tile [colspan]="2">
            Promoción de la salud
            <mat-form-field class="inputClass" appearance="fill">
              <mat-label>Especifique:</mat-label>
              <input  formControlName="especifique_promocionSalud" maxlength="2000" type="text" matInput
                      placeholder="Promoción de la salud">

            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2"> Especifique Nivel de intervención        </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="3">

            <mat-radio-group formControlName="nivelIntervencionElegida"
                             [(ngModel)]="firstGroup"
                             (ngModelChange)="onFirstGroupChange()">
              <div *ngFor="let nivelIntervencion of nivelIntervencionModeloBiopsicosocial">
                <mat-radio-button class="example-radio-button" [value]="nivelIntervencion">
                  {{nivelIntervencion}}
                </mat-radio-button>
              </div>
            </mat-radio-group>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="2">
            <div *ngIf="formInterventionLevel.value.nivelIntervencionElegida == 'Prevención de la enfermedad'">
              Especifique: Prevención de la enfermedad
              <mat-radio-group formControlName="seleccione_prevencionEnfermedad">
                <br>
                <mat-radio-button value="Primario">Primario</mat-radio-button>
                <br>
                <mat-radio-button value="Secundario">Secundario</mat-radio-button>
                <br>
                <mat-radio-button value="Terciario">Terciario</mat-radio-button>
                <br>
                <mat-radio-button value="Cuaternario">Cuaternario</mat-radio-button>
                <br>
              </mat-radio-group>
            </div>

          </mat-grid-tile>
        </mat-grid-list>

      </form>
      <mat-card-actions>
        <button mat-button matStepperPrevious>Atrás</button>
        <button mat-raised-button color="primary" [disabled]="formInterventionLevel.invalid" (click)="saveForm()">Enviar</button>
      </mat-card-actions>


    </mat-card>

  </mat-step>

</mat-vertical-stepper>
